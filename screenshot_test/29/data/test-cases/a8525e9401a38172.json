{"uid":"a8525e9401a38172","name":"[WEB Component] Product card should have expected data","fullName":"tests.web.component.product.test_product_card_component.TestProductCard#test_product_card_has_expected_data","historyId":"1c4d67ac4ac520d20ac969150218f6bf","time":{"start":1771767551591,"stop":1771767552873,"duration":1282},"status":"skipped","statusMessage":"XFAIL TASK-1234\n\n_pytest.outcomes.XFailed: TASK-1234","statusTrace":"self = <tests.web.component.product.test_product_card_component.TestProductCard object at 0x7f523350a350>\n\n    @pytest.mark.screenshot_test\n    @allure.label(\"owner\", \"arrnel\")\n    @allure.story(\"[Web] Component - Product Card Component\")\n    @allure.title(\"[WEB Component] Product card should have expected data\")\n    def test_product_card_has_expected_data(self):\n    \n        # Component\n        recommended_products = self.main_page.recommended_products\n    \n        # Data\n        expected_product_title = \"Winter Top\"\n        product_titles = DataGenerator.recommended_product_titles()\n        product_card = recommended_products.get_card_by_title(expected_product_title)\n        product = DataGenerator.product(expected_product_title)\n    \n        # Assertions\n        product_card.check_product_has_title(product.title)\n        product_card.check_product_has_price(product.price)\n        product_card.check_component_has_screenshot(\n            path_to_screenshot=\"files/screenshot/component/product_card/card.png\",\n        )\n        try:\n>           recommended_products.check_contains_products(*product_titles)\n\ntests/web/component/product/test_product_card_component.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/util/decorator/step_logger.py:75: in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.component.carousel_component.ProductCarouselComponent object at 0x7f5232df9010>\nproduct_title = 'Stylish Dress'\nproduct_titles = ('Winter Top', 'Summer White Top', 'Blue Top', 'Men Tshirt')\nnot_found_products = ['Blue Top', 'Men Tshirt']\n\n    @step_log.log(\n        \"Check [{self._component_title}] contains expected products: {product_titles}\"\n    )\n    def check_contains_products(self, product_title: str, *product_titles: List[str]):\n        not_found_products = self.__carousel_contains_products_titles(\n            product_title, *product_titles\n        )\n        if not_found_products:\n>           raise AssertionError(\n                f\"Product carousel expected products not found: {not_found_products}\"\n            )\nE           AssertionError: Product carousel expected products not found: ['Blue Top', 'Men Tshirt']\n\nsrc/ui/component/carousel_component.py:176: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.web.component.product.test_product_card_component.TestProductCard object at 0x7f523350a350>\n\n    @pytest.mark.screenshot_test\n    @allure.label(\"owner\", \"arrnel\")\n    @allure.story(\"[Web] Component - Product Card Component\")\n    @allure.title(\"[WEB Component] Product card should have expected data\")\n    def test_product_card_has_expected_data(self):\n    \n        # Component\n        recommended_products = self.main_page.recommended_products\n    \n        # Data\n        expected_product_title = \"Winter Top\"\n        product_titles = DataGenerator.recommended_product_titles()\n        product_card = recommended_products.get_card_by_title(expected_product_title)\n        product = DataGenerator.product(expected_product_title)\n    \n        # Assertions\n        product_card.check_product_has_title(product.title)\n        product_card.check_product_has_price(product.price)\n        product_card.check_component_has_screenshot(\n            path_to_screenshot=\"files/screenshot/component/product_card/card.png\",\n        )\n        try:\n            recommended_products.check_contains_products(*product_titles)\n        except AssertionError:\n>           pytest.xfail(\"TASK-1234\")\nE           _pytest.outcomes.XFailed: TASK-1234\n\ntests/web/component/product/test_product_card_component.py:38: XFailed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1771767270220,"stop":1771767270221,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"All UI tests fixture","time":{"start":1771767270221,"stop":1771767270221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"All test fixtures","time":{"start":1771767270221,"stop":1771767270221,"duration":0},"status":"passed","steps":[{"name":"Tests configuration data","time":{"start":1771767270221,"stop":1771767270221,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"4c7190465a4d5a65","name":"Configuration","source":"4c7190465a4d5a65.txt","type":"text/plain","size":1706}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Each UI test fixture","time":{"start":1771767548577,"stop":1771767551521,"duration":2944},"status":"passed","steps":[{"name":"Open browser","time":{"start":1771767548578,"stop":1771767551521,"duration":2943},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Each test fixtures","time":{"start":1771767548577,"stop":1771767548577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_xunit_setup_method_fixture_TestProductCard","time":{"start":1771767551521,"stop":1771767551590,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL TASK-1234\n\n_pytest.outcomes.XFailed: TASK-1234","statusTrace":"self = <tests.web.component.product.test_product_card_component.TestProductCard object at 0x7f523350a350>\n\n    @pytest.mark.screenshot_test\n    @allure.label(\"owner\", \"arrnel\")\n    @allure.story(\"[Web] Component - Product Card Component\")\n    @allure.title(\"[WEB Component] Product card should have expected data\")\n    def test_product_card_has_expected_data(self):\n    \n        # Component\n        recommended_products = self.main_page.recommended_products\n    \n        # Data\n        expected_product_title = \"Winter Top\"\n        product_titles = DataGenerator.recommended_product_titles()\n        product_card = recommended_products.get_card_by_title(expected_product_title)\n        product = DataGenerator.product(expected_product_title)\n    \n        # Assertions\n        product_card.check_product_has_title(product.title)\n        product_card.check_product_has_price(product.price)\n        product_card.check_component_has_screenshot(\n            path_to_screenshot=\"files/screenshot/component/product_card/card.png\",\n        )\n        try:\n>           recommended_products.check_contains_products(*product_titles)\n\ntests/web/component/product/test_product_card_component.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/util/decorator/step_logger.py:75: in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.component.carousel_component.ProductCarouselComponent object at 0x7f5232df9010>\nproduct_title = 'Stylish Dress'\nproduct_titles = ('Winter Top', 'Summer White Top', 'Blue Top', 'Men Tshirt')\nnot_found_products = ['Blue Top', 'Men Tshirt']\n\n    @step_log.log(\n        \"Check [{self._component_title}] contains expected products: {product_titles}\"\n    )\n    def check_contains_products(self, product_title: str, *product_titles: List[str]):\n        not_found_products = self.__carousel_contains_products_titles(\n            product_title, *product_titles\n        )\n        if not_found_products:\n>           raise AssertionError(\n                f\"Product carousel expected products not found: {not_found_products}\"\n            )\nE           AssertionError: Product carousel expected products not found: ['Blue Top', 'Men Tshirt']\n\nsrc/ui/component/carousel_component.py:176: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.web.component.product.test_product_card_component.TestProductCard object at 0x7f523350a350>\n\n    @pytest.mark.screenshot_test\n    @allure.label(\"owner\", \"arrnel\")\n    @allure.story(\"[Web] Component - Product Card Component\")\n    @allure.title(\"[WEB Component] Product card should have expected data\")\n    def test_product_card_has_expected_data(self):\n    \n        # Component\n        recommended_products = self.main_page.recommended_products\n    \n        # Data\n        expected_product_title = \"Winter Top\"\n        product_titles = DataGenerator.recommended_product_titles()\n        product_card = recommended_products.get_card_by_title(expected_product_title)\n        product = DataGenerator.product(expected_product_title)\n    \n        # Assertions\n        product_card.check_product_has_title(product.title)\n        product_card.check_product_has_price(product.price)\n        product_card.check_component_has_screenshot(\n            path_to_screenshot=\"files/screenshot/component/product_card/card.png\",\n        )\n        try:\n            recommended_products.check_contains_products(*product_titles)\n        except AssertionError:\n>           pytest.xfail(\"TASK-1234\")\nE           _pytest.outcomes.XFailed: TASK-1234\n\ntests/web/component/product/test_product_card_component.py:38: XFailed","steps":[{"name":"Check product card [Winter Top] has title: Winter Top","time":{"start":1771767552128,"stop":1771767552145,"duration":17},"status":"passed","steps":[{"name":"Check [Product Title has text: Winter Top]","time":{"start":1771767552128,"stop":1771767552145,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check product card [Winter Top] has price: PriceDTO(currency=<Currency.RS: 'Rs'>, amount=Decimal('600'))","time":{"start":1771767552145,"stop":1771767552168,"duration":23},"status":"passed","steps":[{"name":"Check [Product Price has text: Rs. 600]","time":{"start":1771767552145,"stop":1771767552168,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check [Winter Top] has expected screenshot: files/screenshot/component/product_card/card.png","time":{"start":1771767552169,"stop":1771767552536,"duration":367},"status":"passed","steps":[],"attachments":[{"uid":"d5dd86d641d88ce5","name":"Screenshot diff","source":"d5dd86d641d88ce5.attach","type":"application/vnd.allure.image.diff","size":204636},{"uid":"a28c5da02126f37e","name":"Screenshot diff data table","source":"a28c5da02126f37e.txt","type":"text/plain","size":343}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check [product carousel component] contains expected products: ('Winter Top', 'Summer White Top', 'Blue Top', 'Men Tshirt')","time":{"start":1771767552536,"stop":1771767552872,"duration":336},"status":"failed","statusMessage":"AssertionError: Product carousel expected products not found: ['Blue Top', 'Men Tshirt']\n","statusTrace":"  File \"/automation-exercise-py/src/util/decorator/step_logger.py\", line 75, in wrapper\n    return func(*args, **kwargs)\n  File \"/automation-exercise-py/src/ui/component/carousel_component.py\", line 176, in check_contains_products\n    raise AssertionError(\n        f\"Product carousel expected products not found: {not_found_products}\"\n    )\n","steps":[{"name":"Click on [Next slide] button","time":{"start":1771767552651,"stop":1771767552740,"duration":89},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Get test video from Selenoid by video id = [test_product_card_has_expected_data]","time":{"start":1771767553079,"stop":1771767553085,"duration":6},"status":"passed","steps":[{"name":"Send request [GET]: /video/test_product_card_has_expected_data.mp4","time":{"start":1771767553080,"stop":1771767553085,"duration":5},"status":"passed","steps":[],"attachments":[{"uid":"591f084b1704253f","name":"Request","source":"591f084b1704253f.txt","type":"text/plain","size":359},{"uid":"65c3b505b0b4a82b","name":"Response","source":"65c3b505b0b4a82b.txt","type":"text/plain","size":277}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"83494c839c83a2c1","name":"Screenshot","source":"83494c839c83a2c1.png","type":"image/png","size":186215},{"uid":"629dac3d45457b6f","name":"Page Source","source":"629dac3d45457b6f.html","type":"text/html","size":52640},{"uid":"ee57bb1723aedbd6","name":"Test video","source":"ee57bb1723aedbd6.mp4","type":"video/mp4","size":204559},{"uid":"78a35992b5646aab","name":"log","source":"78a35992b5646aab.txt","type":"text/plain","size":721},{"uid":"f26b478d8e385cc0","name":"stderr","source":"f26b478d8e385cc0.txt","type":"text/plain","size":1529}],"parameters":[],"stepsCount":9,"shouldDisplayMessage":true,"attachmentsCount":9,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"_xunit_setup_method_fixture_TestProductCard::0","time":{"start":1771767553085,"stop":1771767553085,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Each UI test fixture::0","time":{"start":1771767553086,"stop":1771767553086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Each test fixtures::0","time":{"start":1771767553086,"stop":1771767553086,"duration":0},"status":"passed","steps":[{"name":"Remove current test users from backend","time":{"start":1771767553086,"stop":1771767553086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"All test fixtures::0","time":{"start":1771767580645,"stop":1771767580645,"duration":0},"status":"passed","steps":[{"name":"Remove users from backend after all tests","time":{"start":1771767580645,"stop":1771767580645,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"story","value":"[Web] Component - Product Card Component"},{"name":"epic","value":"WEB Component"},{"name":"feature","value":"Product Card Component (Simple)"},{"name":"owner","value":"arrnel"},{"name":"tag","value":"screenshot_test"},{"name":"tag","value":"web_test"},{"name":"tag","value":"component_test"},{"name":"tag","value":"simple_product_card_component_test"},{"name":"tag","value":"product_test"},{"name":"parentSuite","value":"tests.web.component.product"},{"name":"suite","value":"test_product_card_component"},{"name":"subSuite","value":"TestProductCard"},{"name":"host","value":"f055c889a0bd"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.web.component.product.test_product_card_component"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"arrnel","retries":[],"categories":[],"tags":["web_test","simple_product_card_component_test","screenshot_test","component_test","product_test"]},"source":"a8525e9401a38172.json","parameterValues":[]}