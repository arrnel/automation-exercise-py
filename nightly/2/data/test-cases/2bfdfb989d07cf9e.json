{"uid":"2bfdfb989d07cf9e","name":"[WEB Component] Product card should have expected data","fullName":"tests.web.component.product.test_product_card_component.TestProductCard#test_product_card_has_expected_data","historyId":"1c4d67ac4ac520d20ac969150218f6bf","time":{"start":1771718268796,"stop":1771718270038,"duration":1242},"status":"skipped","statusMessage":"XFAIL TASK-1234\n\n_pytest.outcomes.XFailed: TASK-1234","statusTrace":"self = <tests.web.component.product.test_product_card_component.TestProductCard object at 0x7f692c6eafd0>\n\n    @pytest.mark.screenshot_test\n    @allure.label(\"owner\", \"arrnel\")\n    @allure.story(\"[Web] Component - Product Card Component\")\n    @allure.title(\"[WEB Component] Product card should have expected data\")\n    def test_product_card_has_expected_data(self):\n    \n        # Component\n        recommended_products = self.main_page.recommended_products\n    \n        # Data\n        expected_product_title = \"Winter Top\"\n        product_titles = DataGenerator.recommended_product_titles()\n        product_card = recommended_products.get_card_by_title(expected_product_title)\n        product = DataGenerator.product(expected_product_title)\n    \n        # Assertions\n        product_card.check_product_has_title(product.title)\n        product_card.check_product_has_price(product.price)\n        product_card.check_component_has_screenshot(\n            path_to_screenshot=\"files/screenshot/component/product_card/card.png\",\n        )\n        try:\n>           recommended_products.check_contains_products(*product_titles)\n\ntests/web/component/product/test_product_card_component.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/util/decorator/step_logger.py:75: in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.component.carousel_component.ProductCarouselComponent object at 0x7f692c5eec30>\nproduct_title = 'Stylish Dress'\nproduct_titles = ('Winter Top', 'Summer White Top', 'Blue Top', 'Men Tshirt')\nnot_found_products = ['Blue Top', 'Men Tshirt']\n\n    @step_log.log(\n        \"Check [{self._component_title}] contains expected products: {product_titles}\"\n    )\n    def check_contains_products(self, product_title: str, *product_titles: List[str]):\n        not_found_products = self.__carousel_contains_products_titles(\n            product_title, *product_titles\n        )\n        if not_found_products:\n>           raise AssertionError(\n                f\"Product carousel expected products not found: {not_found_products}\"\n            )\nE           AssertionError: Product carousel expected products not found: ['Blue Top', 'Men Tshirt']\n\nsrc/ui/component/carousel_component.py:176: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.web.component.product.test_product_card_component.TestProductCard object at 0x7f692c6eafd0>\n\n    @pytest.mark.screenshot_test\n    @allure.label(\"owner\", \"arrnel\")\n    @allure.story(\"[Web] Component - Product Card Component\")\n    @allure.title(\"[WEB Component] Product card should have expected data\")\n    def test_product_card_has_expected_data(self):\n    \n        # Component\n        recommended_products = self.main_page.recommended_products\n    \n        # Data\n        expected_product_title = \"Winter Top\"\n        product_titles = DataGenerator.recommended_product_titles()\n        product_card = recommended_products.get_card_by_title(expected_product_title)\n        product = DataGenerator.product(expected_product_title)\n    \n        # Assertions\n        product_card.check_product_has_title(product.title)\n        product_card.check_product_has_price(product.price)\n        product_card.check_component_has_screenshot(\n            path_to_screenshot=\"files/screenshot/component/product_card/card.png\",\n        )\n        try:\n            recommended_products.check_contains_products(*product_titles)\n        except AssertionError:\n>           pytest.xfail(\"TASK-1234\")\nE           _pytest.outcomes.XFailed: TASK-1234\n\ntests/web/component/product/test_product_card_component.py:38: XFailed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1771717976037,"stop":1771717976039,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"All test fixtures","time":{"start":1771717976039,"stop":1771717976039,"duration":0},"status":"passed","steps":[{"name":"Tests configuration data","time":{"start":1771717976039,"stop":1771717976039,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"e036f44bedf0fe78","name":"Configuration","source":"e036f44bedf0fe78.txt","type":"text/plain","size":1705}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"All UI tests fixture","time":{"start":1771717976039,"stop":1771717976039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Each UI test fixture","time":{"start":1771718250767,"stop":1771718268731,"duration":17964},"status":"passed","steps":[{"name":"Open browser","time":{"start":1771718250767,"stop":1771718268731,"duration":17964},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Each test fixtures","time":{"start":1771718250767,"stop":1771718250767,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_xunit_setup_method_fixture_TestProductCard","time":{"start":1771718268731,"stop":1771718268795,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL TASK-1234\n\n_pytest.outcomes.XFailed: TASK-1234","statusTrace":"self = <tests.web.component.product.test_product_card_component.TestProductCard object at 0x7f692c6eafd0>\n\n    @pytest.mark.screenshot_test\n    @allure.label(\"owner\", \"arrnel\")\n    @allure.story(\"[Web] Component - Product Card Component\")\n    @allure.title(\"[WEB Component] Product card should have expected data\")\n    def test_product_card_has_expected_data(self):\n    \n        # Component\n        recommended_products = self.main_page.recommended_products\n    \n        # Data\n        expected_product_title = \"Winter Top\"\n        product_titles = DataGenerator.recommended_product_titles()\n        product_card = recommended_products.get_card_by_title(expected_product_title)\n        product = DataGenerator.product(expected_product_title)\n    \n        # Assertions\n        product_card.check_product_has_title(product.title)\n        product_card.check_product_has_price(product.price)\n        product_card.check_component_has_screenshot(\n            path_to_screenshot=\"files/screenshot/component/product_card/card.png\",\n        )\n        try:\n>           recommended_products.check_contains_products(*product_titles)\n\ntests/web/component/product/test_product_card_component.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/util/decorator/step_logger.py:75: in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.component.carousel_component.ProductCarouselComponent object at 0x7f692c5eec30>\nproduct_title = 'Stylish Dress'\nproduct_titles = ('Winter Top', 'Summer White Top', 'Blue Top', 'Men Tshirt')\nnot_found_products = ['Blue Top', 'Men Tshirt']\n\n    @step_log.log(\n        \"Check [{self._component_title}] contains expected products: {product_titles}\"\n    )\n    def check_contains_products(self, product_title: str, *product_titles: List[str]):\n        not_found_products = self.__carousel_contains_products_titles(\n            product_title, *product_titles\n        )\n        if not_found_products:\n>           raise AssertionError(\n                f\"Product carousel expected products not found: {not_found_products}\"\n            )\nE           AssertionError: Product carousel expected products not found: ['Blue Top', 'Men Tshirt']\n\nsrc/ui/component/carousel_component.py:176: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.web.component.product.test_product_card_component.TestProductCard object at 0x7f692c6eafd0>\n\n    @pytest.mark.screenshot_test\n    @allure.label(\"owner\", \"arrnel\")\n    @allure.story(\"[Web] Component - Product Card Component\")\n    @allure.title(\"[WEB Component] Product card should have expected data\")\n    def test_product_card_has_expected_data(self):\n    \n        # Component\n        recommended_products = self.main_page.recommended_products\n    \n        # Data\n        expected_product_title = \"Winter Top\"\n        product_titles = DataGenerator.recommended_product_titles()\n        product_card = recommended_products.get_card_by_title(expected_product_title)\n        product = DataGenerator.product(expected_product_title)\n    \n        # Assertions\n        product_card.check_product_has_title(product.title)\n        product_card.check_product_has_price(product.price)\n        product_card.check_component_has_screenshot(\n            path_to_screenshot=\"files/screenshot/component/product_card/card.png\",\n        )\n        try:\n            recommended_products.check_contains_products(*product_titles)\n        except AssertionError:\n>           pytest.xfail(\"TASK-1234\")\nE           _pytest.outcomes.XFailed: TASK-1234\n\ntests/web/component/product/test_product_card_component.py:38: XFailed","steps":[{"name":"Check product card [Winter Top] has title: Winter Top","time":{"start":1771718269318,"stop":1771718269334,"duration":16},"status":"passed","steps":[{"name":"Check [Product Title has text: Winter Top]","time":{"start":1771718269318,"stop":1771718269334,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check product card [Winter Top] has price: PriceDTO(currency=<Currency.RS: 'Rs'>, amount=Decimal('600'))","time":{"start":1771718269334,"stop":1771718269353,"duration":19},"status":"passed","steps":[{"name":"Check [Product Price has text: Rs. 600]","time":{"start":1771718269334,"stop":1771718269353,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check [Winter Top] has expected screenshot: files/screenshot/component/product_card/card.png","time":{"start":1771718269353,"stop":1771718269702,"duration":349},"status":"passed","steps":[],"attachments":[{"uid":"b203204c6f5d6f60","name":"Screenshot diff","source":"b203204c6f5d6f60.attach","type":"application/vnd.allure.image.diff","size":204636},{"uid":"7b13766999979666","name":"Screenshot diff data table","source":"7b13766999979666.txt","type":"text/plain","size":343}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check [product carousel component] contains expected products: ('Winter Top', 'Summer White Top', 'Blue Top', 'Men Tshirt')","time":{"start":1771718269703,"stop":1771718270037,"duration":334},"status":"failed","statusMessage":"AssertionError: Product carousel expected products not found: ['Blue Top', 'Men Tshirt']\n","statusTrace":"  File \"/automation-exercise-py/src/util/decorator/step_logger.py\", line 75, in wrapper\n    return func(*args, **kwargs)\n  File \"/automation-exercise-py/src/ui/component/carousel_component.py\", line 176, in check_contains_products\n    raise AssertionError(\n        f\"Product carousel expected products not found: {not_found_products}\"\n    )\n","steps":[{"name":"Click on [Next slide] button","time":{"start":1771718269843,"stop":1771718269926,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Get test video from Selenoid by video id = [test_product_card_has_expected_data]","time":{"start":1771718270323,"stop":1771718270339,"duration":16},"status":"passed","steps":[{"name":"Send request [GET]: /video/test_product_card_has_expected_data.mp4","time":{"start":1771718270323,"stop":1771718270339,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"d787c4febe0cf2","name":"Request","source":"d787c4febe0cf2.txt","type":"text/plain","size":359},{"uid":"ceca7c49f8e719ac","name":"Response","source":"ceca7c49f8e719ac.txt","type":"text/plain","size":277}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1f698e6cfb981bbd","name":"Screenshot","source":"1f698e6cfb981bbd.png","type":"image/png","size":192056},{"uid":"cb96c70eedea33c9","name":"Page Source","source":"cb96c70eedea33c9.html","type":"text/html","size":52640},{"uid":"20921b16cad9c295","name":"Test video","source":"20921b16cad9c295.mp4","type":"video/mp4","size":207968},{"uid":"990f84c22b38c3cb","name":"log","source":"990f84c22b38c3cb.txt","type":"text/plain","size":721},{"uid":"bf94453105bd6de","name":"stderr","source":"bf94453105bd6de.txt","type":"text/plain","size":1529}],"parameters":[],"stepsCount":9,"shouldDisplayMessage":true,"attachmentsCount":9,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"_xunit_setup_method_fixture_TestProductCard::0","time":{"start":1771718270341,"stop":1771718270341,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Each UI test fixture::0","time":{"start":1771718270343,"stop":1771718270343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Each test fixtures::0","time":{"start":1771718270343,"stop":1771718270343,"duration":0},"status":"passed","steps":[{"name":"Remove current test users from backend","time":{"start":1771718270343,"stop":1771718270343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"All test fixtures::0","time":{"start":1771718294003,"stop":1771718294003,"duration":0},"status":"passed","steps":[{"name":"Remove users from backend after all tests","time":{"start":1771718294003,"stop":1771718294003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"owner","value":"arrnel"},{"name":"feature","value":"Product Card Component (Simple)"},{"name":"epic","value":"WEB Component"},{"name":"story","value":"[Web] Component - Product Card Component"},{"name":"tag","value":"screenshot_test"},{"name":"tag","value":"web_test"},{"name":"tag","value":"component_test"},{"name":"tag","value":"simple_product_card_component_test"},{"name":"tag","value":"product_test"},{"name":"parentSuite","value":"tests.web.component.product"},{"name":"suite","value":"test_product_card_component"},{"name":"subSuite","value":"TestProductCard"},{"name":"host","value":"60f8e9881a24"},{"name":"thread","value":"15-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.web.component.product.test_product_card_component"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"arrnel","retries":[],"categories":[],"tags":["web_test","simple_product_card_component_test","screenshot_test","component_test","product_test"]},"source":"2bfdfb989d07cf9e.json","parameterValues":[]}